{"version":3,"sources":["webpack:///./src/views/Login/Login.vue?9b90","webpack:///./src/views/Login/Login.vue?0abe","webpack:///src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?8567","webpack:///./src/views/Login/Login.vue","webpack:///./src/assets/login/logo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","directives","name","rawName","value","expression","domProps","on","$event","target","composing","phone","pwd","scopedSlots","_u","key","fn","model","callback","$$v","checked","proxy","submit","_v","goState","staticRenderFns","component","module","exports"],"mappings":"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","file":"js/login.4874e179.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=bf40d522&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('NavBar',{attrs:{\"title\":\"登陆\",\"isTrueArrow\":false}}),_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],staticClass:\"inp_box\",attrs:{\"type\":\"number\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],staticClass:\"inp_box\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_c('van-cell',{attrs:{\"center\":\"\",\"title\":\"记住账号密码\"},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-switch',{attrs:{\"size\":\"24\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}})]},proxy:true}])}),_c('van-button',{staticClass:\"submit\",on:{\"click\":_vm.submit}},[_vm._v(\"登 陆\")]),_c('div',{staticClass:\"bt-box\"},[_c('span',{on:{\"click\":function($event){return _vm.goState({name: 'forget'})}}},[_vm._v(\"忘记密码\")]),_c('span'),_c('span',{on:{\"click\":function($event){return _vm.goState({name: 'register'})}}},[_vm._v(\"马上注册\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":require(\"../../assets/login/logo.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <NavBar title=\"登陆\" :isTrueArrow=\"false\" />\n    <div class=\"banner\">\n      <img src=\"../../assets/login/logo.png\" alt=\"\">\n    </div>\n\n    <!-- 账号 -->\n    <input type=\"number\" placeholder=\"手机号\" v-model=\"phone\" class=\"inp_box\">\n    <!-- 密码 -->\n    <input type=\"password\" placeholder=\"密码\" v-model=\"pwd\" class=\"inp_box\">\n\n    <van-cell center title=\"记住账号密码\">\n      <template #right-icon>\n        <van-switch v-model=\"checked\" size=\"24\" />\n      </template>\n    </van-cell>\n\n    <van-button class=\"submit\" @click=\"submit\">登  陆</van-button>\n\n    <!-- 底部忘记密码 -->\n    <div class=\"bt-box\">\n      <span @click=\"goState({name: 'forget'})\">忘记密码</span>\n      <span></span>\n      <span @click=\"goState({name: 'register'})\">马上注册</span>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import NavBar from '@/components/NavBar.vue';\n\n  import Util from '@/assets/utils/utils'\n\n  import qs from 'qs'\n\n  import { mapState, mapMutations } from 'vuex'\n\n  export default {\n     name: 'Login',\n     components: {\n       NavBar\n     },\n     data(){\n       return{\n         // phone:18159303017,\n         // pwd:'a123456',\n         phone:'',\n         pwd:'',\n         utils: new Util(this),\n\n         checked: false\n       }\n     },\n     computed: mapState([\n         'userInfo',\n         'user'\n     ]),\n\n     created(){\n       this.getLocal();\n     },\n     methods: {\n\n       ...mapMutations(['changeUserInfo','changeUser']),\n\n       goState(o){\n         this.$router.push(o)\n       },\n\n       getLocal(){\n         let alin = JSON.parse(localStorage.getItem('remeber'))\n\n         if(alin){\n           this.phone = alin.phone\n           this.pwd = alin.pwd,\n           this.checked = true\n         }\n       },\n\n       submit(){\n\n        if(this.phone == ''){\n         this.$toast('请输入手机号')\n         return;\n        }\n\n        if(!(/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/.test(this.phone))){\n           this.$toast('请输入正确的手机号')\n           return false;\n        }\n\n        if(this.pwd == ''){\n          this.$toast('请输入密码')\n           return;\n        }\n\n        if(this.pwd.length < 6){\n          this.$toast('请输入六位及以上的密码')\n          return;\n        }\n\n        this.axios({\n          method: 'POST',\n          url: 'http://106.12.220.193/Webapp/login/lAct',\n          data: qs.stringify({\n            UserName: this.phone,\n            Password: this.pwd\n          })\n        }).then(result => {\n\n          let res = result.data\n\n          // console.info(res)\n          if(res.code == 0){\n            this.$toast.success('登陆成功');\n\n            if(this.checked){\n              localStorage.setItem('remeber',JSON.stringify({phone:this.phone, pwd: this.pwd}))\n            }else{\n              localStorage.removeItem('remeber')\n            }\n\n\n\n\n            this.changeUserInfo(res.data.user_info)\n\n            let cookieT = JSON.stringify({\n              user_id: res.data.user_info.user_id,\n              user_token: res.data.user_info.user_token,\n            })\n\n            this.$cookies.set(\"userData\",cookieT,\"1m\")\n\n            this.reqUserInfo(res)\n\n\n            // console.info(res)\n          }else if(res.code != 0 && res.data && res.data.jumpUrl){\n            window.location.href = res.data.jumpUrl;\n          }else{\n            this.$toast.fail(res.msg)\n          }\n        });\n       },\n\n       reqUserInfo(o){\n         this.axios({\n           headers:{\n             \"user-id\": o.data.user_info.user_id,\n             \"user-token\": o.data.user_info.user_token\n           },\n           method: 'GET',\n           url: 'http://106.12.220.193/Webapp/home/pushUserInfo',\n           params: {}\n         }).then(result => {\n           // console.info('请求个人信息',result.data)\n           if(result.data.code == 0){\n             this.changeUser(result.data.data);\n             this.$router.push({name: 'home'})\n           }\n         }).catch(err => {\n           console.info(err)\n         })\n       }\n     }\n   }\n</script>\n\n<style lang=\"less\" scoped>\n  @import './Login.less';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=bf40d522&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=bf40d522&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf40d522\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.b5c05750.png\";"],"sourceRoot":""}