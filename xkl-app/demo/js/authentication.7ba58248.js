(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["authentication"],{"866f":function(t,e,a){t.exports=a.p+"img/a-02.c166353e.jpeg"},"886d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authentication"},[n("NavBar",{attrs:{title:"身份信息",isTrueArrow:!0,rtTtit:"",rtPath:"addbinuser"}}),t._m(0),n("div",{staticClass:"title"},[t._v("填写身份信息("+t._s(t.info.id_status_desc)+")")]),n("div",{staticClass:"info"},[n("van-field",{attrs:{readonly:t.isCheck,placeholder:"姓名"},model:{value:t.real_name,callback:function(e){t.real_name=e},expression:"real_name"}}),n("div",{staticClass:"tips"},[n("van-icon",{attrs:{name:"warning-o"}}),t._v("注意：该姓名必须与提现设置的户名一样！否则会引起提现失败。")],1),n("van-field",{attrs:{readonly:t.isCheck,placeholder:"身份证号"},model:{value:t.id_number,callback:function(e){t.id_number=e},expression:"id_number"}}),n("van-cell",{attrs:{"is-link":""},on:{click:function(e){!t.isCheck&&(t.showSexPop=!0)}}},[t._v(t._s(t.sex_desc))]),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showSexPop,callback:function(e){t.showSexPop=e},expression:"showSexPop"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"选择性别",columns:["男","女"]},on:{cancel:function(e){t.showSexPop=!1},confirm:t.onSexConfirm}})],1)],1),n("div",{staticClass:"title"},[t._v("手持身份证(要求：做手势动作5)")]),n("div",{staticClass:"img_box"},[n("van-uploader",{attrs:{"preview-size":"148",disabled:t.isCheck,"max-count":1},model:{value:t.hand,callback:function(e){t.hand=e},expression:"hand"}}),n("img",{staticClass:"img_tip",attrs:{src:a("a406"),alt:""},on:{click:function(e){t.yulan(a("a406"))}}})],1),n("div",{staticClass:"title"},[t._v("身份证正面")]),n("div",{staticClass:"img_box"},[n("van-uploader",{attrs:{"preview-size":"148",disabled:t.isCheck,"max-count":1},model:{value:t.id_front_photo,callback:function(e){t.id_front_photo=e},expression:"id_front_photo"}}),n("img",{staticClass:"img_tip",attrs:{src:a("866f"),alt:""},on:{click:function(e){t.yulan(a("866f"))}}})],1),n("div",{staticClass:"title"},[t._v("身份证反面")]),n("div",{staticClass:"img_box"},[n("van-uploader",{attrs:{"preview-size":"148",disabled:t.isCheck,"max-count":1},model:{value:t.id_other_photo,callback:function(e){t.id_other_photo=e},expression:"id_other_photo"}}),n("img",{staticClass:"img_tip",attrs:{src:a("8d66"),alt:""},on:{click:function(e){t.yulan(a("8d66"))}}})],1),n("div",{staticClass:"title"},[t._v("本人支付宝账号（用于验证）")]),n("div",{staticClass:"info"},[n("van-field",{attrs:{readonly:t.isCheck,placeholder:"支付宝账号"},model:{value:t.alipay,callback:function(e){t.alipay=e},expression:"alipay"}})],1),t.isCheck?t._e():n("van-button",{staticClass:"submit",attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("提交")])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tp"},[a("div",[t._v("根据国家网信办规定，平台进行实名安全工作，当您的账户出现风险时，在必要时系统会要求您进行更高级别的认证。")]),a("div",[t._v("我们承诺保障您的资金安全，且不会泄露您的个人隐私，请您积极配合。")])])}],i=a("1da1"),s=(a("4662"),a("28a2")),r=a("5530"),c=(a("b0c0"),a("96cf"),a("d000")),d=a("4328"),l=a.n(d),u=a("2f62"),h=a("9163"),p={name:"Authentication",components:{NavBar:c["a"]},computed:Object(u["c"])(["userInfo","user"]),data:function(){return{info:[],isCheck:!1,areaList:h["areaList"],real_name:"",id_number:"",sex_desc:"男",showSexPop:!1,hand:[],id_front_photo:[],id_other_photo:[],bank_name:"",bank_card_no:"",showArea:!1,localValue:"",alipay:"",showBankPicker:!1,bankColumns:[],bankValue:{text:""}}},created:function(){this.reqInit()},mounted:function(){this.changeReSize()},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])(["changeUserInfo","changeUser"])),{},{changeReSize:function(){var t=document.querySelectorAll(".van-uploader__upload");console.info(t);for(var e=0;e<t.length;e++)t[e].style.height="228px"},onBankConfirm:function(t){this.bankValue=t,this.showBankPicker=!1},onSexConfirm:function(t){this.sex_desc=t,this.showSexPop=!1},onLoaclConfirm:function(t){console.info(t),this.localValue=t,this.showArea=!1},yulan:function(t){Object(s["a"])([t])},goState:function(t){this.$router.push(t)},upload:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.axios({headers:{"Content-Type":"application/x-www-form-urlencoded","user-id":e.userInfo.user_id,"user-token":e.userInfo.user_token},method:"POST",url:"http://106.12.220.193/Webapp/Upload/uploadFileImagesBase64",data:l.a.stringify({base64img:t.content})});case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})))()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="",!(t.hand.length>0&&t.hand[0].url)){e.next=5;break}a=t.hand[0].url,e.next=14;break;case 5:if(!(t.hand.length>0)){e.next=11;break}return e.next=8,t.upload(t.hand[0]);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0="";case 12:a=e.t0,a=a?a.data.data:"";case 14:if(n="",!(t.id_front_photo.length>0&&t.id_front_photo[0].url)){e.next=19;break}n=t.id_front_photo[0].url,e.next=28;break;case 19:if(!(t.id_front_photo.length>0)){e.next=25;break}return e.next=22,t.upload(t.id_front_photo[0]);case 22:e.t1=e.sent,e.next=26;break;case 25:e.t1="";case 26:n=e.t1,n=n?n.data.data:"";case 28:if(o="",!(t.id_other_photo.length>0&&t.id_other_photo[0].url)){e.next=33;break}o=t.id_other_photo[0].url,e.next=42;break;case 33:if(!(t.id_other_photo.length>0)){e.next=39;break}return e.next=36,t.upload(t.id_other_photo[0]);case 36:e.t2=e.sent,e.next=40;break;case 39:e.t2="";case 40:o=e.t2,o=o?o.data.data:"";case 42:t.axios({headers:{"Content-Type":"application/x-www-form-urlencoded","user-id":t.userInfo.user_id,"user-token":t.userInfo.user_token},method:"POST",url:"http://106.12.220.193/webapp/home/saveCertificationAct",data:l.a.stringify({RealName:t.real_name,Identity:t.id_number,Sex:"男"==t.sex_desc?1:2,id_hold_photo:a,id_front_photo:n,id_other_photo:o,alipay:t.alipay})}).then((function(e){var a=e.data;console.info("请求账号列表=====>",a),0==a.code?(t.$toast(a.msg),t.$router.back()):9999==a.code?t.$router.push({name:"login"}):t.$toast(a.msg)})).catch((function(t){console.info(t)}));case 43:case"end":return e.stop()}}),e)})))()},reqInit:function(){var t=this;this.axios({headers:{"Content-Type":"application/x-www-form-urlencoded","user-id":this.userInfo.user_id,"user-token":this.userInfo.user_token},method:"POST",url:"http://106.12.220.193/webapp/home/getCertificationInfo",data:l.a.stringify({})}).then((function(e){var a=e.data;if(console.info("请求账号列表=====>",a),0==a.code){t.info=a.data,t.real_name=a.data.real_name,t.id_number=a.data.id_number,t.sex_desc=a.data.sex_desc,t.bank_name=a.data.bank_name,t.bank_card_no=a.data.bank_card_no,t.alipay=a.data.alipay,t.hand=a.data.id_hold_photo?[{url:a.data.id_hold_photo}]:[],t.id_front_photo=a.data.id_front_photo?[{url:a.data.id_front_photo}]:[],t.id_other_photo=a.data.id_other_photo?[{url:a.data.id_other_photo}]:[],t.localValue=[{name:a.data.province?a.data.province:"请选择省"},{name:a.data.city?a.data.city:"市"}],t.changeReSize();var n=[];for(var o in a.data.bank_list)n.push({text:a.data.bank_list[o].name,code:a.data.bank_list[o].code,key:o});t.bankColumns=n,t.bankValue.text=a.data.bank_name,2==a.data.id_status&&(t.isCheck=!0)}else 9999==a.code&&t.$router.push({name:"login"})})).catch((function(t){console.info(t)}))},changeActive:function(t){this.active=t,this.money="",this.txPwd=""}})},_=p,f=(a("8a90"),a("2877")),m=Object(f["a"])(_,n,o,!1,null,"ef065c1a",null);e["default"]=m.exports},"8a90":function(t,e,a){"use strict";a("90af")},"8d66":function(t,e,a){t.exports=a.p+"img/a-03.34b605e5.jpeg"},"90af":function(t,e,a){},a406:function(t,e,a){t.exports=a.p+"img/a-01.303aef82.jpeg"}}]);
//# sourceMappingURL=authentication.7ba58248.js.map